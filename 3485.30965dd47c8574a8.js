"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(I,d,a)=>{a.r(d),a.d(d,{LoginPageModule:()=>w});var c=a(177),u=a(4341),i=a(4742),m=a(7100),p=a(467),h=a(7802),f=a(3715),v=a(1413),b=a(6977),n=a(4438),M=a(2872);function P(e,s){1&e&&(n.j41(0,"ion-row",15)(1,"p",16),n.EFF(2,"Usuario y/o contrase\xf1a incorrectas"),n.k0s()())}function C(e,s){if(1&e){const t=n.RV6();n.j41(0,"ion-button",17),n.bIt("click",function(){n.eBV(t);const r=n.XpG();return n.Njj(r.login())}),n.j41(1,"p"),n.EFF(2,"Entrar"),n.k0s()()}if(2&e){const t=n.XpG();n.Y8G("disabled",t.credentialsError||null===t.password||null===t.username||0===(null==t.password?null:t.password.length)||0===(null==t.username?null:t.username.length))}}function L(e,s){1&e&&(n.j41(0,"ion-button",18),n.nrm(1,"ion-spinner",19),n.k0s()),2&e&&n.Y8G("disabled",!0)}const y=[{path:"",component:(()=>{var e;class s{constructor(o,r,l){this.firebaseService=o,this.authService=r,this.navCtrl=l,this.username=null,this.password=null,this.loading=!1,this.credentialsError=!1,this.onDestroy$=new v.B}ngOnInit(){}login(){var o=this;return(0,p.A)(function*(){try{o.loading=!0,o.username=o.username.trim(),o.password=o.password.trim(),yield o.authService.login(o.username,o.password),o.authService.getAuthenticationState().pipe((0,b.Q)(o.onDestroy$)).subscribe(l=>{l&&(o.username=null,o.password=null,o.navCtrl.navigateRoot("home"))})}catch(l){var r;console.error(null==l?void 0:l.message),null!=l&&null!==(r=l.message)&&void 0!==r&&r.includes("auth/invalid")&&(o.credentialsError=!0),o.loading=!1}o.loading=!1})()}resetAuthError(){this.credentialsError=!1}ngOnDestroy(){this.onDestroy$.next()}}return(e=s).\u0275fac=function(o){return new(o||e)(n.rXU(h.f),n.rXU(f.u),n.rXU(M.q9))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-login"]],decls:21,vars:6,consts:[[3,"fullscreen"],[1,"u-wrapper"],[1,"flex-center"],["alt","Logo","src","assets/img/barchin-badge.png",2,"max-height","7rem"],[2,"color","black"],[1,"text-center"],[1,"p-0"],["class","justify-center",4,"ngIf"],[1,"flex-center","mb-05"],["placeholder","Email","mode","ios",1,"mx-auto",2,"--placeholder-color","rgb(0, 0, 0)",3,"ngModelChange","ngModel"],[1,"flex-center","mb-1"],["type","password","placeholder","Contrase\xf1a","mode","ios",1,"mx-auto",2,"--placeholder-color","rgb(0, 0, 0)",3,"ngModelChange","ngModel"],["slot","end"],["color","primary","shape","round",3,"disabled","click",4,"ngIf"],["color","primary","shape","round",3,"disabled",4,"ngIf"],[1,"justify-center"],[1,"error-p"],["color","primary","shape","round",3,"click","disabled"],["color","primary","shape","round",3,"disabled"],["name","dots","color","secondary"]],template:function(o,r){1&o&&(n.j41(0,"ion-content",0)(1,"div",1)(2,"ion-card")(3,"ion-col",2),n.nrm(4,"img",3),n.j41(5,"ion-card-header")(6,"ion-card-title",4),n.EFF(7,"COFRADIA DE SAN ROQUE"),n.k0s(),n.j41(8,"ion-card-subtitle",5),n.EFF(9,"Administraci\xf3n"),n.k0s()()(),n.j41(10,"ion-card-content")(11,"ion-col",6),n.DNE(12,P,3,0,"ion-row",7),n.j41(13,"ion-row",8)(14,"ion-input",9),n.mxI("ngModelChange",function(g){return n.DH7(r.username,g)||(r.username=g),g}),n.bIt("ngModelChange",function(){return r.resetAuthError()}),n.k0s()(),n.j41(15,"ion-row",10)(16,"ion-input",11),n.mxI("ngModelChange",function(g){return n.DH7(r.password,g)||(r.password=g),g}),n.bIt("ngModelChange",function(){return r.resetAuthError()}),n.nrm(17,"ion-input-password-toggle",12),n.k0s()(),n.j41(18,"ion-row",2),n.DNE(19,C,3,1,"ion-button",13)(20,L,2,1,"ion-button",14),n.k0s()()()()()()),2&o&&(n.Y8G("fullscreen",!0),n.R7$(12),n.Y8G("ngIf",r.credentialsError),n.R7$(2),n.R50("ngModel",r.username),n.R7$(2),n.R50("ngModel",r.password),n.R7$(3),n.Y8G("ngIf",!r.loading),n.R7$(),n.Y8G("ngIf",r.loading))},dependencies:[c.bT,u.BC,u.vS,i.Jm,i.b_,i.I9,i.ME,i.HW,i.tN,i.hU,i.W9,i.$w,i.Wv,i.ln,i.w2,i.Gw],styles:["ion-input[_ngcontent-%COMP%]{max-width:20rem;background:var(--ion-color-background-lightless);border-radius:10px;--padding-start: 10px}ion-content[_ngcontent-%COMP%]{--ion-background-color: none }ion-card[_ngcontent-%COMP%]{background:var(--ion-color-background-light);max-width:30rem;margin:5rem auto}ion-content[_ngcontent-%COMP%]{--background: linear-gradient(rgba(255, 255, 255, .473), rgba(255, 255, 255, .452)), url(background.8e7e769f2d29760e.jpg) center/cover no-repeat}"]}),s})()}];let j=(()=>{var e;class s{}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[m.iI.forChild(y),m.iI]}),s})();var E=a(5553);let w=(()=>{var e;class s{}return(e=s).\u0275fac=function(o){return new(o||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[c.MD,u.YN,i.bv,j,E.h]}),s})()}}]);