"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7796],{7796:(N,j,i)=>{i.r(j),i.d(j,{EditCofradePageModule:()=>A});var C=i(177),s=i(4341),c=i(4742),p=i(7100),E=i(467),h=i(7802),e=i(4438),F=i(2872),M=i(385);function R(t,d){1&t&&e.nrm(0,"ion-progress-bar",3)}function x(t,d){if(1&t){const a=e.RV6();e.j41(0,"ion-row",7)(1,"ion-col",8)(2,"p"),e.EFF(3,"CUMPLI\xd3 COMO DAMA EN (A\xd1O)"),e.k0s(),e.j41(4,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG(2);return e.DH7(n.cofrade.damaYear,o)||(n.cofrade.damaYear=o),e.Njj(o)}),e.k0s()(),e.nrm(5,"ion-col",8),e.k0s()}if(2&t){const a=e.XpG(2);e.R7$(4),e.R50("ngModel",a.cofrade.damaYear)}}function k(t,d){if(1&t){const a=e.RV6();e.j41(0,"ion-row",27)(1,"ion-col",28)(2,"p"),e.EFF(3,"CUMPLI\xd3 COMO DAMA EN (A\xd1O)"),e.k0s(),e.j41(4,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG(2);return e.DH7(n.cofrade.damaYear,o)||(n.cofrade.damaYear=o),e.Njj(o)}),e.k0s()()()}if(2&t){const a=e.XpG(2);e.R7$(4),e.R50("ngModel",a.cofrade.damaYear)}}function D(t,d){if(1&t){const a=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"ion-col",6)(3,"ion-row",7)(4,"ion-col",8)(5,"p"),e.EFF(6,"NOMBRE *"),e.k0s(),e.j41(7,"ion-input",9),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.name,o)||(n.cofrade.name=o),e.Njj(o)}),e.k0s()(),e.j41(8,"ion-col",8)(9,"p"),e.EFF(10,"APELLIDOS *"),e.k0s(),e.j41(11,"ion-input",9),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.surname,o)||(n.cofrade.surname=o),e.Njj(o)}),e.k0s()()(),e.j41(12,"ion-row",7)(13,"ion-col",8)(14,"p"),e.EFF(15,"N\xdaMERO DE COFRADE"),e.k0s(),e.j41(16,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.number,o)||(n.cofrade.number=o),e.Njj(o)}),e.k0s()(),e.j41(17,"ion-col",8)(18,"p"),e.EFF(19,"SEXO *"),e.k0s(),e.j41(20,"select",11),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.sex,o)||(n.cofrade.sex=o),e.Njj(o)}),e.j41(21,"option",12),e.EFF(22,"Selecciona una opci\xf3n"),e.k0s(),e.j41(23,"option",13),e.EFF(24,"Hombre"),e.k0s(),e.j41(25,"option",14),e.EFF(26,"Mujer"),e.k0s()()()(),e.DNE(27,x,6,1,"ion-row",15),e.j41(28,"ion-row",7)(29,"ion-col",8)(30,"p"),e.EFF(31,"FECHA DE NACIMIENTO *"),e.k0s(),e.j41(32,"input",16),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.formattedBirthdate,o)||(n.formattedBirthdate=o),e.Njj(o)}),e.k0s()(),e.j41(33,"ion-col",8)(34,"p"),e.EFF(35,"TEL\xc9FONO"),e.k0s(),e.j41(36,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.phoneNumber,o)||(n.cofrade.phoneNumber=o),e.Njj(o)}),e.k0s()()(),e.j41(37,"ion-row",7)(38,"ion-col",8)(39,"p"),e.EFF(40,"CARGO AL CUMPLIR"),e.k0s(),e.j41(41,"select",11),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.cumpRole,o)||(n.cofrade.cumpRole=o),e.Njj(o)}),e.j41(42,"option",12),e.EFF(43,"Selecciona una opci\xf3n"),e.k0s(),e.j41(44,"option",17),e.EFF(45,"Capit\xe1n"),e.k0s(),e.j41(46,"option",18),e.EFF(47,"Alferez"),e.k0s(),e.j41(48,"option",19),e.EFF(49,"Sargento"),e.k0s(),e.j41(50,"option",20),e.EFF(51,"Ayudante"),e.k0s(),e.j41(52,"option",21),e.EFF(53,"Abanderado"),e.k0s()()(),e.j41(54,"ion-col",8)(55,"p"),e.EFF(56,"CUMPLI\xd3 EN (A\xd1O)"),e.k0s(),e.j41(57,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.cumpYear,o)||(n.cofrade.cumpYear=o),e.Njj(o)}),e.k0s()()(),e.j41(58,"ion-row",7)(59,"ion-col",8)(60,"p"),e.EFF(61,"MAYORDOMO EN (A\xd1O)"),e.k0s(),e.j41(62,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.mayorYear,o)||(n.cofrade.mayorYear=o),e.Njj(o)}),e.k0s()(),e.j41(63,"ion-col",8)(64,"p"),e.EFF(65,"FAROL EN (A\xd1O)"),e.k0s(),e.j41(66,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.farolYear,o)||(n.cofrade.farolYear=o),e.Njj(o)}),e.k0s()()(),e.j41(67,"ion-row",7)(68,"ion-col",8)(69,"p"),e.EFF(70,"BAJA EN (A\xd1O)"),e.k0s(),e.j41(71,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.bajaYear,o)||(n.cofrade.bajaYear=o),e.Njj(o)}),e.k0s()(),e.j41(72,"ion-col",8)(73,"p"),e.EFF(74,"MOTIVO DE LA BAJA"),e.k0s(),e.j41(75,"select",11),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.bajaReason,o)||(n.cofrade.bajaReason=o),e.Njj(o)}),e.j41(76,"option",12),e.EFF(77,"Selecciona una opci\xf3n"),e.k0s(),e.j41(78,"option",22),e.EFF(79,"Baja voluntaria"),e.k0s(),e.j41(80,"option",23),e.EFF(81,"Impago"),e.k0s(),e.j41(82,"option",24),e.EFF(83,"Defunci\xf3n"),e.k0s()()()(),e.j41(84,"ion-row",7)(85,"ion-col",25)(86,"p"),e.EFF(87,"REFERENCIA FAMILIAR"),e.k0s(),e.j41(88,"textarea",11),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.info,o)||(n.cofrade.info=o),e.Njj(o)}),e.EFF(89,"\n              "),e.k0s()()()(),e.j41(90,"ion-col",26)(91,"ion-row",27)(92,"ion-col",28)(93,"p"),e.EFF(94,"NOMBRE *"),e.k0s(),e.j41(95,"ion-input",9),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.name,o)||(n.cofrade.name=o),e.Njj(o)}),e.k0s()()(),e.j41(96,"ion-row",27)(97,"ion-col",28)(98,"p"),e.EFF(99,"APELLIDOS *"),e.k0s(),e.j41(100,"ion-input",9),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.surname,o)||(n.cofrade.surname=o),e.Njj(o)}),e.k0s()()(),e.j41(101,"ion-row",27)(102,"ion-col",28)(103,"p"),e.EFF(104,"N\xdaMERO DE COFRADE"),e.k0s(),e.j41(105,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.number,o)||(n.cofrade.number=o),e.Njj(o)}),e.k0s()()(),e.j41(106,"ion-row",27)(107,"ion-col",28)(108,"p"),e.EFF(109,"SEXO *"),e.k0s(),e.j41(110,"select",11),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.sex,o)||(n.cofrade.sex=o),e.Njj(o)}),e.j41(111,"option",12),e.EFF(112,"Selecciona una opci\xf3n"),e.k0s(),e.j41(113,"option",13),e.EFF(114,"Hombre"),e.k0s(),e.j41(115,"option",14),e.EFF(116,"Mujer"),e.k0s()()()(),e.DNE(117,k,5,1,"ion-row",29),e.j41(118,"ion-row",27)(119,"ion-col",28)(120,"p"),e.EFF(121,"FECHA DE NACIMIENTO *"),e.k0s(),e.j41(122,"input",16),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.formattedBirthdate,o)||(n.formattedBirthdate=o),e.Njj(o)}),e.k0s()()(),e.j41(123,"ion-row",27)(124,"ion-col",28)(125,"p"),e.EFF(126,"TEL\xc9FONO"),e.k0s(),e.j41(127,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.phoneNumber,o)||(n.cofrade.phoneNumber=o),e.Njj(o)}),e.k0s()()(),e.j41(128,"ion-row",27)(129,"ion-col",28)(130,"p"),e.EFF(131,"CARGO AL CUMPLIR"),e.k0s(),e.j41(132,"select",11),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.cumpRole,o)||(n.cofrade.cumpRole=o),e.Njj(o)}),e.j41(133,"option",12),e.EFF(134,"Selecciona una opci\xf3n"),e.k0s(),e.j41(135,"option",17),e.EFF(136,"Capit\xe1n"),e.k0s(),e.j41(137,"option",18),e.EFF(138,"Alferez"),e.k0s(),e.j41(139,"option",19),e.EFF(140,"Sargento"),e.k0s(),e.j41(141,"option",20),e.EFF(142,"Ayudante"),e.k0s(),e.j41(143,"option",21),e.EFF(144,"Abanderado"),e.k0s()()()(),e.j41(145,"ion-row",27)(146,"ion-col",28)(147,"p"),e.EFF(148,"CUMPLI\xd3 EN (A\xd1O)"),e.k0s(),e.j41(149,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.cumpYear,o)||(n.cofrade.cumpYear=o),e.Njj(o)}),e.k0s()()(),e.j41(150,"ion-row",27)(151,"ion-col",28)(152,"p"),e.EFF(153,"MAYORDOMO EN (A\xd1O)"),e.k0s(),e.j41(154,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.mayorYear,o)||(n.cofrade.mayorYear=o),e.Njj(o)}),e.k0s()()(),e.j41(155,"ion-row",27)(156,"ion-col",28)(157,"p"),e.EFF(158,"FAROL EN (A\xd1O)"),e.k0s(),e.j41(159,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.farolYear,o)||(n.cofrade.farolYear=o),e.Njj(o)}),e.k0s()()(),e.j41(160,"ion-row",27)(161,"ion-col",28)(162,"p"),e.EFF(163,"BAJA EN (A\xd1O)"),e.k0s(),e.j41(164,"ion-input",10),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.bajaYear,o)||(n.cofrade.bajaYear=o),e.Njj(o)}),e.k0s()()(),e.j41(165,"ion-row",27)(166,"ion-col",28)(167,"p"),e.EFF(168,"MOTIVO DE LA BAJA"),e.k0s(),e.j41(169,"select",11),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.bajaReason,o)||(n.cofrade.bajaReason=o),e.Njj(o)}),e.j41(170,"option",12),e.EFF(171,"Selecciona una opci\xf3n"),e.k0s(),e.j41(172,"option",22),e.EFF(173,"Baja voluntaria"),e.k0s(),e.j41(174,"option",23),e.EFF(175,"Impago"),e.k0s(),e.j41(176,"option",24),e.EFF(177,"Defunci\xf3n"),e.k0s()()()(),e.j41(178,"ion-row",7)(179,"ion-col",28)(180,"p"),e.EFF(181,"REFERENCIA FAMILIAR"),e.k0s(),e.j41(182,"textarea",11),e.mxI("ngModelChange",function(o){e.eBV(a);const n=e.XpG();return e.DH7(n.cofrade.info,o)||(n.cofrade.info=o),e.Njj(o)}),e.k0s()()(),e.j41(183,"ion-row",30)(184,"ion-button",31),e.bIt("click",function(){e.eBV(a);const o=e.XpG();return e.Njj(o.saveCofrade())}),e.EFF(185," GUARDAR CAMBIOS "),e.k0s()()(),e.j41(186,"ion-row",32)(187,"ion-button",33),e.bIt("click",function(){e.eBV(a);const o=e.XpG();return e.Njj(o.saveCofrade())}),e.EFF(188," GUARDAR CAMBIOS "),e.k0s()()()()}if(2&t){const a=e.XpG();e.R7$(7),e.R50("ngModel",a.cofrade.name),e.R7$(4),e.R50("ngModel",a.cofrade.surname),e.R7$(5),e.R50("ngModel",a.cofrade.number),e.R7$(4),e.R50("ngModel",a.cofrade.sex),e.R7$(7),e.Y8G("ngIf","W"===(null==a.cofrade?null:a.cofrade.sex)),e.R7$(5),e.R50("ngModel",a.formattedBirthdate),e.R7$(4),e.R50("ngModel",a.cofrade.phoneNumber),e.R7$(5),e.R50("ngModel",a.cofrade.cumpRole),e.R7$(16),e.R50("ngModel",a.cofrade.cumpYear),e.R7$(5),e.R50("ngModel",a.cofrade.mayorYear),e.R7$(4),e.R50("ngModel",a.cofrade.farolYear),e.R7$(5),e.R50("ngModel",a.cofrade.bajaYear),e.R7$(4),e.R50("ngModel",a.cofrade.bajaReason),e.R7$(13),e.R50("ngModel",a.cofrade.info),e.R7$(7),e.R50("ngModel",a.cofrade.name),e.R7$(5),e.R50("ngModel",a.cofrade.surname),e.R7$(5),e.R50("ngModel",a.cofrade.number),e.R7$(5),e.R50("ngModel",a.cofrade.sex),e.R7$(7),e.Y8G("ngIf","W"===(null==a.cofrade?null:a.cofrade.sex)),e.R7$(5),e.R50("ngModel",a.formattedBirthdate),e.R7$(5),e.R50("ngModel",a.cofrade.phoneNumber),e.R7$(5),e.R50("ngModel",a.cofrade.cumpRole),e.R7$(17),e.R50("ngModel",a.cofrade.cumpYear),e.R7$(5),e.R50("ngModel",a.cofrade.mayorYear),e.R7$(5),e.R50("ngModel",a.cofrade.farolYear),e.R7$(5),e.R50("ngModel",a.cofrade.bajaYear),e.R7$(5),e.R50("ngModel",a.cofrade.bajaReason),e.R7$(13),e.R50("ngModel",a.cofrade.info),e.R7$(2),e.Y8G("disabled",a.buttonIsDisabled()),e.R7$(3),e.Y8G("disabled",a.buttonIsDisabled())}}const I=[{path:"",component:(()=>{var t;class d{constructor(r,o,n){this.firebase=r,this.route=o,this.navCtrl=n}ngOnInit(){var r=this;return(0,E.A)(function*(){try{r.loading=!0,r.id=yield r.route.snapshot.paramMap.get("id"),r.cofrade=yield r.firebase.getCofradeById(r.id),r.formattedBirthdate=r.formatDateToInput(),r.loading=!1}catch(o){r.loading=!1,console.error(o)}})()}formatDateToInput(){return`${this.cofrade.birthdate.toDate().getFullYear()}-${String(this.cofrade.birthdate.toDate().getMonth()+1).padStart(2,"0")}-${String(this.cofrade.birthdate.toDate().getDate()).padStart(2,"0")}`}buttonIsDisabled(){var r,o,n,l,u,g,f,_,m;return 0===(null===(r=this.cofrade.name)||void 0===r?void 0:r.length)||null===(null===(o=this.cofrade.name)||void 0===o?void 0:o.length)||0===(null===(n=this.cofrade.surname)||void 0===n?void 0:n.length)||null===(null===(l=this.cofrade.surname)||void 0===l?void 0:l.length)||0===(null===(u=this.cofrade.sex)||void 0===u?void 0:u.length)||null===(null===(g=this.cofrade.sex)||void 0===g?void 0:g.length)||(null===(f=this.formattedBirthdate)||void 0===f?void 0:f.length)<10||null===this.formattedBirthdate||null===(null===(_=this.cofrade.sex)||void 0===_?void 0:_.length)||null===this.cofrade.number||0===(null===(m=this.cofrade.number)||void 0===m?void 0:m.length)}saveCofrade(){var r=this;return(0,E.A)(function*(){try{var o,n,l;r.loading=!0,0===(null===(o=r.cofrade)||void 0===o||null===(o=o.sex)||void 0===o?void 0:o.length)&&(r.cofrade.sex=null),0===(null===(n=r.cofrade)||void 0===n||null===(n=n.cumpRole)||void 0===n?void 0:n.length)&&(r.cofrade.cumpRole=null),0===(null===(l=r.cofrade)||void 0===l||null===(l=l.bajaReason)||void 0===l?void 0:l.length)&&(r.cofrade.bajaReason=null);const[u,g,f]=r.formattedBirthdate.split("-").map(Number);r.cofrade.birthdate=new Date(Date.UTC(u,g-1,f,0,0,0,0)),yield r.firebase.updateCofradeById(r.id,r.cofrade),r.navCtrl.navigateRoot("cofrade-detail/"+r.id),r.loading=!1}catch(u){r.loading=!1,console.error(u)}})()}}return(t=d).\u0275fac=function(r){return new(r||t)(e.rXU(h.f),e.rXU(p.nX),e.rXU(F.q9))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-edit-cofrade"]],decls:4,vars:3,consts:[[3,"title"],["type","indeterminate",4,"ngIf"],["class","content-wrapper",4,"ngIf"],["type","indeterminate"],[1,"content-wrapper"],[1,"card-container"],[1,"nonDisplayPhone"],[2,"justify-content","center","gap","10rem"],[2,"max-width","35%"],["mode","ios",1,"mx-auto",3,"ngModelChange","ngModel"],["type","number","mode","ios",1,"mx-auto",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","M"],["value","W"],["style","justify-content: center; gap: 10rem;",4,"ngIf"],["type","date",3,"ngModelChange","ngModel"],["value","CAP"],["value","ALF"],["value","SAR"],["value","AYU"],["value","BAN"],["value","VOL"],["value","IMP"],["value","EXI"],[2,"max-width","30rem"],[1,"displayOnlyPhone"],[2,"justify-content","center"],[2,"max-width","90%"],["style","justify-content: center;",4,"ngIf"],[1,"displayOnlyPhone",2,"justify-content","center","margin-top","2rem","padding-left","1rem","padding-right","1rem"],["color","primary","shape","round",2,"width","100%","font-weight","bold",3,"click","disabled"],[1,"nonDisplayPhone",2,"justify-content","center"],["color","primary","shape","round",3,"click","disabled"]],template:function(r,o){1&r&&(e.nrm(0,"app-header",0),e.j41(1,"ion-content"),e.DNE(2,R,1,0,"ion-progress-bar",1)(3,D,189,30,"div",2),e.k0s()),2&r&&(e.Y8G("title","EDITAR COFRADE"),e.R7$(2),e.Y8G("ngIf",o.loading),e.R7$(),e.Y8G("ngIf",!o.loading))},dependencies:[C.bT,s.xH,s.y7,s.me,s.wz,s.BC,s.vS,c.Jm,c.hU,c.W9,c.$w,c.FH,c.ln,c.su,c.Gw,M.l],styles:[".card-container[_ngcontent-%COMP%]{width:100%;background:var(--ion-color-background-light);margin-top:2rem;border-radius:10px;border-top:var(--ion-color-primary) 9px solid;box-shadow:3px 3px 3px 3px #d3d3d3}@media (min-width: 768px){.card-container[_ngcontent-%COMP%]{padding-bottom:4rem}}p[_ngcontent-%COMP%]{color:var(--ion-color-primary);padding-left:.3rem;margin-bottom:.5rem;font-weight:700}ion-input[_ngcontent-%COMP%]{background:#cfcfcf;border-radius:10px;--padding-start: 10px;margin-left:0;--highlight-color: var(--ion-color-primary) !important;color:#000}select[_ngcontent-%COMP%]{width:100%;color:#000;background:#cfcfcf;border-radius:10px;border:none;height:44px;padding-left:10px}input[_ngcontent-%COMP%]{width:100%;color:#000;background:#cfcfcf;border-radius:10px;border:none;height:44px;padding:10px}textarea[_ngcontent-%COMP%]{border-radius:10px;background:#fff;color:#000;padding:1rem;width:100%;resize:none}"]}),d})()}];let b=(()=>{var t;class d{}return(t=d).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[p.iI.forChild(I),p.iI]}),d})();var P=i(5553);let A=(()=>{var t;class d{}return(t=d).\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[C.MD,s.YN,c.bv,b,P.h]}),d})()}}]);